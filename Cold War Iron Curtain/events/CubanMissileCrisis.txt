###########################
# Cuban Missile Crisis Events
###########################

add_namespace = cubamc

country_event = {
	id = cubamc.1
	title = cubamc.1.t
	desc = cubamc.1.d
	picture = GFX_report_CMC_cuba_ask_missile_deployment

	is_triggered_only = yes

	option = {
		name = cubamc.1.a
		CUB = { 
			random_owned_controlled_state = {
				limit = {
					is_owned_by = CUB 
					free_building_slots = {
						building = rocket_site
						size > 1
						include_locked = yes
					}	
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = rocket_site
					level = 2
				}
			}
		}
		SOV = { add_opinion_modifier = { target = CUB modifier = CMC_missile_deployment_cuba_opinion }
		hidden_effect = {
			CUB = { country_event = { id = cubamc.2 days = 3 } }
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		name = cubamc.1.b
		add_opinion_modifier = { target = CUB modifier = CMC_missile_no_deployment_cuba_opinion }
		add_opinion_modifier = { target = USA modifier = CMC_missile_no_deployment_cuba_USA_opinion }
		ai_chance = {
			factor = 0
		}
	}
}

country_event = {
	id = cubamc.2
	title = cubamc.2.t
	desc = cubamc.2.d
	picture = GFX_report_CMC_soviet_accept_missile_deployment

	is_triggered_only = yes

	option = {
		name = cubamc.2.a
		add_opinion_modifier = { target = SOV modifier = CMC_soviet_accept_deployment_cuba_opinion }
		add_opinion_modifier = { target = USA modifier = CMC_soviet_accept_deployment_cuba_USA_opinion }
		hidden_effect = {
			USA = { country_event = { id = cubamc.3 days = 7 } }
		}
	}
}

country_event = {
	id = cubamc.3
	title = cubamc.3.t
	desc = cubamc.3.d
	picture = GFX_report_CMC_soviet_missiles_spotted

	is_triggered_only = yes

	immediate = {
		news_event = { id = cubamc.4 days = 3 } 
	}

	option = {
		name = cubamc.3.a
		add_opinion_modifier = { target = SOV modifier = CMC_soviet_missiles_do_nothing_opinion }
		add_opinion_modifier = { target = CUB modifier = CMC_soviet_missiles_do_nothing_opinion }
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = cubamc.3.b
		SOV = { country_event = { id = cubamc.5 days = 2 } }
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = cubamc.3.c
		CUB = { country_event = { id = cubamc.6 days = 2 } }
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = cubamc.3.e
		create_wargoal = {
			target = CUB
			type = puppet_wargoal
		}
		ai_chance = {
			factor = 1
		}
		hidden_effect = {
			news_event = { id = cubamc.17 days = 2 }
		}
	}
	option = {
		name = cubamc.3.f
		create_wargoal = {
			target = CUB
			type = puppet_wargoal
		}
		create_wargoal = {
			target = SOV
			type = puppet_wargoal
		}
		ai_chance = {
			factor = 1
		}
		hidden_effect = {
			news_event = { id = cubamc.18 days = 2 }
		}
	}
	option = {
		name = cubamc.3.g
		add_opinion_modifier = { target = CUB modifier = CMC_soviet_missiles_blockade_opinion }
		CUB = { country_event = { id = cubamc.7 days = 2 } }
		ai_chance = {
			factor = 95
		}
	}
}

news_event = {
	id = cubamc.4
	title = cubamc.4.t
	desc = cubamc.4.d
	picture = GFX_news_event_CMC_soviet_missiles_spotted

	is_triggered_only = yes
	major = yes

	option = {
		name = cubamc.4.a
		trigger = { tag = USA}
	}
	option = {
		name = cubamc.4.b
		trigger = { tag = SOV}
	}
	option = {
		name = cubamc.4.c
		trigger = { NOT = { tag = USA tag = SOV } }
	}
}

country_event = {
	id = cubamc.5
	title = cubamc.5.t
	desc = cubamc.5.d
	picture = GFX_report_CMC_soviet_deployment_negotiations

	is_triggered_only = yes

	option = {
		name = cubamc.5.a
		USA = { country_event = { id = cubamc.8 days = 2 } }
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = cubamc.5.b
		USA = { country_event = { id = cubamc.9 days = 2 } }
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = cubamc.5.c
		add_opinion_modifier = { target = USA modifier = CMC_soviet_missiles_removed_opinion }
		add_opinion_modifier = { target = CUB modifier = CMC_soviet_missiles_removed_CUB_opinion }
		ai_chance = {
			factor = 98
		}
	}
}

country_event = {
	id = cubamc.6
	title = cubamc.6.t
	desc = cubamc.6.d
	picture = GFX_report_CMC_american_deal_to_cuba

	is_triggered_only = yes

	option = {
		name = cubamc.6.a
		add_opinion_modifier = { target = SOV modifier = CMC_american_deal_with_cuba_opinion }
		add_opinion_modifier = { target = USA modifier = CMC_american_deal_with_cuba_USA_opinion }
		SOV = { country_event = { id = cubamc.12 days = 2 } }
		ai_chance = {
			factor = 45
		}
	}
	option = {
		name = cubamc.6.b
		add_opinion_modifier = { target = SOV modifier = CMC_no_american_deal_with_cuba_opinion }
		add_opinion_modifier = { target = USA modifier = CMC_no_american_deal_with_cuba_USA_opinion }
		USA = { country_event = { id = cubamc.13 days = 2 } }
		ai_chance = {
			factor = 45
		}
	}
	option = {
		name = cubamc.6.c
		declare_war_on = {
			target = USA
			type = annex_everything
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			news_event = { id = cubamc.16 days = 2 }
		}
	}
}

country_event = {
	id = cubamc.8
	title = cubamc.8.t
	desc = cubamc.8.d
	picture = GFX_report_CMC_soviet_demand_berlin

	is_triggered_only = yes

	option = {
		name = cubamc.8.a
		DDR = { transfer_state = 742 }
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			news_event = { id = cubamc.10 days = 2 } }
	}
	option = {
		name = cubamc.8.b
		add_opinion_modifier = { target = SOV modifier = CMC_no_berlin_opinion }
		add_opinion_modifier = { target = CUB modifier = CMC_no_berlin_opinion }
		SOV = { country_event = { id = cubamc.7 days = 2 } }
		ai_chance = {
			factor = 90
		}
	}
}

country_event = {
	id = cubamc.9
	title = cubamc.9.t
	desc = cubamc.9.d
	picture = GFX_report_CMC_soviet_demand_missiles_removed

	is_triggered_only = yes

	option = {
		name = cubamc.9.a
		add_opinion_modifier = { target = CUB modifier = CMC_missiles_removed_opinion }
		add_opinion_modifier = { target = SOV modifier = CMC_missiles_removed_opinion }
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			news_event = { id = cubamc.11 days = 2 } }
	}
	option = {
		name = cubamc.9.b
		add_opinion_modifier = { target = SOV modifier = CMC_no_missiles_removed_opinion }
		add_opinion_modifier = { target = CUB modifier = CMC_no_missiles_removed_opinion }
		SOV = { country_event = { id = cubamc.7 days = 2 } }
		ai_chance = {
			factor = 90
		}
	}
}

news_event = {
	id = cubamc.10
	title = cubamc.10.t
	desc = cubamc.10.d
	picture = GFX_news_event_CMC_west_to_east_berlin

	is_triggered_only = yes
	major = yes

	option = {
		name = cubamc.10.a
		trigger = { tag = USA}
	}
	option = {
		name = cubamc.10.b
		trigger = { tag = SOV}
	}
	option = {
		name = cubamc.10.c
		trigger = { NOT = { tag = USA tag = SOV } }
	}
}

news_event = {
	id = cubamc.11
	title = cubamc.11.t
	desc = cubamc.11.d
	picture = GFX_news_event_CMC_missile_sites_traded

	is_triggered_only = yes
	major = yes

	option = {
		name = cubamc.11.a
		trigger = { tag = USA}
	}
	option = {
		name = cubamc.11.b
		trigger = { tag = SOV}
	}
	option = {
		name = cubamc.11.c
		trigger = { NOT = { tag = USA tag = SOV } }
	}
}

country_event = {
	id = cubamc.12
	title = cubamc.12.t
	desc = cubamc.12.d
	picture = GFX_report_CMC_cuba_request_remove_missiles

	is_triggered_only = yes

	option = {
		name = cubamc.12.a
		add_opinion_modifier = { target = USA modifier = CMC_soviet_missiles_removed_opinion }
		ai_chance = {
			factor = 80
		}
		hidden_effect = { 
			news_event = { id = cubamc.14 days = 2 } 
		}
	}
	option = {
		name = cubamc.12.b
		declare_war_on = {
			target = CUB
			type = puppet_wargoal
		}
		CUB = {
			start_civil_war = {
				ideology = communism
				size = 0.3
			}
		}
		ai_chance = {
			factor = 20
		}
		hidden_effect = { 
			news_event = { id = cubamc.15 days = 2 } 
		}
	}
}

country_event = {
	id = cubamc.13
	title = cubamc.13.t
	desc = cubamc.13.d
	picture = GFX_report_CMC_cuba_denys_deal

	is_triggered_only = yes

	option = {
		name = cubamc.13.a
		add_opinion_modifier = { target = SOV modifier = CMC_no_missiles_removed_opinion }
		add_opinion_modifier = { target = CUB modifier = CMC_no_missiles_removed_opinion }
		SOV = { country_event = { id = cubamc.7 days = 2 } }
		ai_chance = {
			factor = 80
		}
	}
	option = {
		name = cubamc.13.b
		declare_war_on = {
			target = CUB
			type = puppet_wargoal
		}
		ai_chance = {
			factor = 20
		}
	}
}

news_event = {
	id = cubamc.14
	title = cubamc.14.t
	desc = cubamc.14.d
	picture = GFX_news_event_CMC_cuba_removes_missiles

	is_triggered_only = yes
	major = yes

	option = {
		name = cubamc.14.a
		trigger = { tag = USA}
	}
	option = {
		name = cubamc.14.b
		trigger = { tag = SOV}
	}
	option = {
		name = cubamc.14.c
		trigger = { NOT = { tag = USA tag = SOV } }
	}
}

news_event = {
	id = cubamc.15
	title = cubamc.15.t
	desc = cubamc.15.d
	picture = GFX_news_event_CMC_soviet_war_with_cuba

	is_triggered_only = yes
	major = yes

	option = {
		name = cubamc.15.a
		trigger = { tag = USA}
	}
	option = {
		name = cubamc.15.b
		trigger = { tag = SOV}
	}
	option = {
		name = cubamc.15.c
		trigger = { NOT = { tag = USA tag = SOV } }
	}
	option = {
		name = cubamc.15.e
		trigger = { tag = CUB }
	}
}

news_event = {
	id = cubamc.16
	title = cubamc.16.t
	desc = cubamc.16.d
	picture = GFX_news_event_CMC_cuba_war_with_USA

	is_triggered_only = yes
	major = yes

	option = {
		name = cubamc.16.a
		trigger = { tag = USA}
	}
	option = {
		name = cubamc.16.b
		trigger = { tag = SOV}
	}
	option = {
		name = cubamc.16.c
		trigger = { NOT = { tag = USA tag = SOV } }
	}
	option = {
		name = cubamc.16.e
		trigger = { tag = CUB }
	}
}

news_event = {
	id = cubamc.17
	title = cubamc.17.t
	desc = cubamc.17.d
	picture = GFX_news_event_CMC_cuba_war_with_USA1

	is_triggered_only = yes
	major = yes

	option = {
		name = cubamc.17.a
		trigger = { tag = USA}
	}
	option = {
		name = cubamc.17.b
		trigger = { tag = SOV}
	}
	option = {
		name = cubamc.17.c
		trigger = { NOT = { tag = USA tag = SOV } }
	}
}

news_event = {
	id = cubamc.18
	title = cubamc.18.t
	desc = cubamc.18.d
	picture = GFX_news_event_CMC_cuba_war_with_USA_airstrike

	is_triggered_only = yes
	major = yes

	option = {
		name = cubamc.18.a
		trigger = { tag = USA}
	}
	option = {
		name = cubamc.18.b
		trigger = { tag = SOV}
	}
	option = {
		name = cubamc.18.c
		trigger = { NOT = { tag = USA tag = SOV } }
	}
}