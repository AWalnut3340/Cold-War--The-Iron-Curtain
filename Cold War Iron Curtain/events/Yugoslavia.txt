#####################
# Yugoslavia Events
#####################

add_namespace = yug

# Yes / No Unification Trieste
country_event = {
	id = yug.1
	title = yug.1.t
	desc = yug.1.d

	is_triggered_only = yes

	option = {
		name = yug.1.a
		set_global_flag = yug_yes_trieste
		ai_chance = {
			factor = 85
		}
	}

	option = {
		name = yug.1.b
		set_global_flag = yug_no_Trieste
		ai_chance = {
			factor = 15
		}
	}
}

# Unification Trieste: Enforcing from Italy
country_event = {
	id = yug.2
	title = yug.2.t
	desc = yug.2.d

	is_triggered_only = yes

	option = { #Invade Trieste
		name = yug.2.a
		ai_chance = {
			factor = 75
		}
		set_global_flag = yug_not_back_down_trieste
	}

	option = { #Back down
		name = yug.2.b
		ai_chance = {
			factor = 25
		}
		set_global_flag = yug_back_down_trieste
	}
}

#Titos Death Hidden Trigger
country_event = {
	id = yug.3
	hidden = yes

	trigger = {
		date > 1980.5.4
		date < 1980.5.15
		NOT = { YUG = { has_country_flag = tito_dead } }
	}

	immediate = {
		news_event = news.1024
		set_country_flag = tito_dead
	}

	option = { }

	mean_time_to_happen = { days = 7 }
}

# Collective Presidency
country_event = {
	id = yug.4
	title = yug.4.t
	desc = yug.4.d

	is_triggered_only = yes

	option = { # Only those who can be trusted
		name = yug.4.a
		ai_chance = {
			factor = 6
		}
	}

	option = { # Hand-Pick the Members
		name = yug.4.b
		ai_chance = {
			factor = 5
		}
		add_ideas = { YUG_corruption_scandals }
		add_political_power = 250
		hidden_effect = {
			country_event = yug.5
		}
	}

	option = { # Let the republics pick them
		name = yug.4.c
		ai_chance = {
			factor = 5
		}
		add_ideas = { YUG_corruption_scandals }
		add_political_power = 200
		hidden_effect = {
			country_event = yug.5
		}
	}
}

# Corruption Scandals
country_event = {
	id = yug.5
	title = yug.5.t
	desc = yug.5.d

	is_triggered_only = yes

	option = { # Investigate further
		name = yug.5.a
		ai_chance = {
			factor = 5
		}
		remove_ideas = YUG_corruption_scandals
		add_ideas = { YUG_arrested_ministers }
	}

	option = { # We can't risk it getting public
		name = yug.5.b
		ai_chance = {
			factor = 5
		}
		hidden_effect = {
			if = { limit = { NOT = { has_country_flag = corruption_scandals } } }
			set_country_flag = corruption_scandals
		}
	}

}

# Corruption Scandals, hidden trigger for new event
country_event = {
	id = yug.6
	hidden = yes

	trigger = {
		has_country_flag = corruption_scandals 
	}

	immediate = {
		country_event = yug.5
	}

	mean_time_to_happen = { days = 365 }

	option = { }


}

# Tito's Successor
country_event = {
	id = yug.7
	title = yug.7.t
	desc = yug.7.d

	is_triggered_only = yes

	option = { # Appoint Vice President
		name = yug.7.a
		ai_chance = {
			factor = 5
		}
		custom_tooltip_effect = {
			create_country_leader = {
				name = "Lazar Koliševski"
				picture = "Portrait_Yugoslavia_Lazar_Kolisevski.dds"
				ideology = stalinism
			}
		}
	}

	option = { # Appoint Head of SR Croatia
		name = yug.7.b
		ai_chance = {
			factor = 5
		}
		create_country_leader = {
			name = "Ante Marković"
			picture = "Portrait_Yugoslavia_Ante_Markovic.dds"
			ideology = stalinism
		}
	}

	option = { # Appoint Head of SR Serbia 
		name = yug.7.c
		ai_chance = {
			factor = 5
		}
		create_country_leader = {
			name = "Ivan Stambolić"
			picture = "Portrait_Yugoslavia_Ivan_Stambolic.dds"
			ideology = stalinism
		}
	}

}

# Purge the Gouvernment
country_event = {
	id = yug.8
	title = yug.8.t
	desc = yug.8.d

	is_triggered_only = yes

	option = { # Whatever is necessary
		name = yug.8.a
		ai_chance = {
			factor = 5
		}
	}
}

# Suez Crisis
country_event = {
	id = yug.9
	title = yug.9.t
	desc = yug.9.d

	is_triggered_only = yes

	option = { # Support Egypt
		name = yug.9.a
		ai_chance = {
			factor = 5
		}
		add_opinion_modifier = { target = ENG modifier = YUG_Suez_Crisis_hurting_opinion }
		add_opinion_modifier = { target = EGY modifier = YUG_Suez_Crisis_improve_opinion }
	}
	option = { # Stay out
		name = yug.9.b
		ai_chance = {
			factor = 5
		}
		add_opinion_modifier = { target = EGY modifier = YUG_Suez_Crisis_hurting_opinion }
		add_opinion_modifier = { target = ENG modifier = YUG_Suez_Crisis_improve_opinion }
	}
}

# The Afghan Question
country_event = {
	id = yug.10
	title = yug.10.t
	desc = yug.10.d

	is_triggered_only = yes

	option = { # Allow him to join
		name = yug.10.a
		ai_chance = {
			factor = 5
		}
		YUG = { add_to_faction = AFG }
	}
	option = { # We cannot risk it
		name = yug.10.b
		ai_chance = {
			factor = 5
		}
		add_opinion_modifier = { target = AFG modifier = YUG_Afghan_Question_hurting_opinion}
	}
}

# Croatia Declares Independence
country_event = {
	id = yug.11
	title = yug.11.t
	desc = yug.11.d

	is_triggered_only = yes

	option = { # We cant let them leave
		name = yug.11.a
		ai_chance = {
			factor = 5
		}
		release = CRO
		declare_war_on = { tag = CRO type = annex_everything }
	}
}